<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Кольцевая настольная игра</title>

<style>
    body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        background: #111;
        color: #eee;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px;
    }

    h1 {
        margin-bottom: 10px;
        text-align: center;
    }

    #controls, #messages, #diceArea {
        margin-top: 15px;
        text-align: center;
        max-width: 600px;
    }

    button {
        padding: 10px 18px;
        margin: 5px;
        font-size: 16px;
        cursor: pointer;
        border-radius: 6px;
        border: none;
        background: #444;
        color: #fff;
    }

    button:disabled {
        opacity: 0.5;
        cursor: default;
    }

    /* ==== ДОСКА ==== */

    #boardWrapper {
        margin-top: 20px;
    }

    .board {
        position: relative;
        width: 420px;
        height: 420px;
        border-radius: 50%;
        background: #4b1f14; /* тёмно-красно-коричневый как на фото */
        border: 14px solid #b0b0b0; /* серая внешняя кайма */
        box-shadow: 0 0 20px rgba(0,0,0,0.7);
        overflow: hidden; /* режем линии по кругу */
    }

    .ring {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        border-radius: 50%;
        pointer-events: none;
    }

    /* Границы колец, чтобы повторить разлиновку */
    .outer-ring {
        width: 100%;
        height: 100%;
        border: 2px solid rgba(180, 60, 60, 0.8);
    }

    .middle-ring {
        width: 70%;
        height: 70%;
        border: 2px solid rgba(180, 60, 60, 0.8);
    }

    .inner-ring {
        width: 40%;
        height: 40%;
        border: 2px solid rgba(180, 60, 60, 0.8);
    }

    /* РАДИАЛЬНЫЕ ЛИНИИ (делим на 12 сегментов) */

    #radialLines {
        position: absolute;
        inset: 0;
        pointer-events: none;
    }

    .radial-line {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 2px;
        height: 420px; /* полный диаметр — линия от края до края */
        background: rgba(180, 60, 60, 0.8);
        transform-origin: 50% 50%; /* крутим вокруг центра */
    }

    /* СЕГМЕНТЫ-СИМВОЛЫ (только символ, без подложки) */

    .segment {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 40px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 22px;
        color: #e0d0c0;
        background: transparent;
        border: none;
        box-sizing: border-box;
        pointer-events: none;
        text-shadow: 0 0 3px rgba(0,0,0,0.8);
        transform: translate(-50%, -50%); /* базовое центрирование, дальше дополним в JS */
    }

    .outer-seg { /* радиус для внешнего кольца */ }
    .middle-seg { /* radius middle */ }
    .inner-seg { /* radius inner */ }

    .segment span.symbol-text {
        pointer-events: none;
    }

    /* ФИШКИ */

    .token-white::after,
    .token-black::after {
        content: "";
        position: absolute;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        border: 2px solid #000;
        box-shadow: 0 0 5px rgba(0,0,0,0.6);
        right: -6px;
        bottom: -6px;
    }

    .token-white::after {
        background: #f5f5f5;
    }

    .token-black::after {
        background: #111;
    }

    /* ЦЕНТРАЛЬНЫЙ ЛОГОТИП */

    .logo {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 120px;
        height: 120px;
        transform: translate(-50%, -50%);
        border-radius: 50%;
        background: radial-gradient(circle, #ffec9c 0%, #f3c96d 60%, #b95f26 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        text-align: center;
        font-size: 18px;
        color: #222;
        box-shadow: 0 0 10px rgba(0,0,0,0.7);
        pointer-events: none;
    }

    /* АНИМАЦИЯ В КОНЦЕ ИГРЫ */

    .board-animate {
        animation: boardMove 1.8s ease-in-out forwards;
    }

    @keyframes boardMove {
        0%   { transform: translateY(0) scale(1) rotate(0deg); opacity: 1; }
        25%  { transform: translateY(-10px) scale(1.05) rotate(3deg); }
        50%  { transform: translateY(5px) scale(0.95) rotate(-3deg); }
        75%  { transform: translateY(-15px) scale(1.08) rotate(2deg); }
        100% { transform: translateY(-80px) scale(0.1) rotate(20deg); opacity: 0; }
    }

    /* ЗОНА КОНЦОВОК */

    #endingArea {
        margin-top: 30px;
        text-align: center;
        max-width: 600px;
        display: none;
    }

    #endingImage {
        max-width: 100%;
        border-radius: 12px;
        box-shadow: 0 0 15px rgba(0,0,0,0.8);
        margin-bottom: 10px;
    }

    #endingText {
        font-size: 18px;
        line-height: 1.4;
    }

    #diceArea {
        font-size: 18px;
        line-height: 1.5;
    }
</style>
</head>
<body>

<h1>Кольцевая настольная игра</h1>

<div id="controls">
    <div id="colorChoice">
        Выбери цвет фишек:<br />
        <button id="playWhiteBtn">Играть белыми</button>
        <button id="playBlackBtn">Играть чёрными</button>
    </div>
    <div id="rollControls" style="display:none;">
        <button id="rollBtn">Бросить кубики</button>
    </div>
</div>

<div id="messages"></div>

<div id="diceArea">
    <div><b>Твой бросок:</b> <span id="playerDiceText">—</span></div>
    <div><b>Бросок компьютера:</b> <span id="computerDiceText">—</span></div>
</div>

<div id="boardWrapper">
    <div id="board" class="board">
        <!-- радиальные линии (деление на 12 секторов) -->
        <div id="radialLines"></div>

        <!-- кольца с символами -->
        <div id="outerRing" class="ring outer-ring"></div>
        <div id="middleRing" class="ring middle-ring"></div>
        <div id="innerRing" class="ring inner-ring"></div>

        <div class="logo">ЗИМ<br/>ОРОДОК</div>
    </div>
</div>

<div id="endingArea">
    <img id="endingImage" src="" alt="ending" />
    <div id="endingText"></div>
</div>

<script>
    /* ================================
       КОНСТАНТЫ И НАСТРОЙКИ
       ================================ */

    // 6 символов — пока примерные, сюда потом вставишь свои
    const SYMBOLS = ["ᚯ", "ᛁ", "ᛉ", "ᛋ", "ᚻ", "ᚫ"];

    const RING_SYMBOL_INDEXES = [0,1,2,3,4,5,0,1,2,3,4,5];

    const MIDDLE_PAIRS = [
        [0,1],
        [2,3],
        [4,5],
        [0,2],
        [1,3],
        [2,4],
        [3,5],
        [0,5],
        [1,4],
        [0,3],
        [1,5],
        [2,5]
    ];

    const FOREST_ENDING = {
        image: "images/forest.jpg",
        text: "Лес. Баланс. Белых и чёрных камней на среднем кольце поровну."
    };

    const RANDOM_ENDINGS = [
        { image: "images/ending1.jpg", text: "Вариант концовки №1." },
        { image: "images/ending2.jpg
